import{a as J}from"./chunk-2M43QZHH.js";import{a as G,c as H,d as P}from"./chunk-N2XASI22.js";import{$ as g,$a as V,Aa as a,Ca as W,Ga as c,Ha as z,I as F,Ia as B,J as w,Ma as k,P as u,Ra as h,Sa as D,T as N,Y as L,ba as f,c as O,da as q,fa as s,la as l,na as U,p as b,ta as m,ua as A,va as $,wa as v,xa as y,ya as i,za as r}from"./chunk-ENXZJPPP.js";var Q=t=>["/pokemons",t],C=class t{pokemonApiUrl="https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/other/official-artwork/";pokemon=g.required();pokemonImage=h(()=>`${this.pokemonApiUrl}${this.pokemon().id}.png`);static \u0275fac=function(n){return new(n||t)};static \u0275cmp=l({type:t,selectors:[["pokemon-card"]],inputs:{pokemon:[1,"pokemon"]},decls:5,vars:6,consts:[[1,"bg-blue-500","animate-fadeIn","h-44","bg-opacity-25","rounded-lg","shadow-md","flex","flex-col","p-4","items-center","justify-center","cursor-pointer",3,"routerLink"],["width","96px","height","96px",1,"w-24","h-24",3,"src","alt"],[1,"text-center","mt-2"],[1,"text-white","text-xl","capitalize","font-bold"]],template:function(n,o){n&1&&(i(0,"div",0),a(1,"img",1),i(2,"div",2)(3,"h2",3),c(4),r()()()),n&2&&(m("routerLink",k(4,Q,o.pokemon().name)),s(),m("src",o.pokemonImage(),q)("alt",o.pokemon().name),s(3),z(o.pokemon().name))},dependencies:[P],encapsulation:2})};var X=(t,e)=>e.id;function Y(t,e){if(t&1&&a(0,"pokemon-card",1),t&2){let n=e.$implicit;m("pokemon",n)}}function Z(t,e){t&1&&(i(0,"div",2),c(1," No hay pok\xE9mons "),r())}var x=class t{pokemonList=g.required();static \u0275fac=function(n){return new(n||t)};static \u0275cmp=l({type:t,selectors:[["pokemon-list"]],inputs:{pokemonList:[1,"pokemonList"]},decls:4,vars:1,consts:[[1,"grid","gap-3","grid-cols-1","sm:grid-cols-3","md:grid-cols-5"],[3,"pokemon"],[1,"col-span-5","text-center","border-white","h-28","flex","justify-center","items-center"]],template:function(n,o){n&1&&(i(0,"div",0),v(1,Y,1,1,"pokemon-card",1,X,!1,Z,2,0,"div",2),r()),n&2&&(s(),y(o.pokemonList()))},dependencies:[C],encapsulation:2})};function ee(t,e){t&1&&(i(0,"div",1),a(1,"div",2),i(2,"div",3),a(3,"div",4),r()())}var S=class t{static \u0275fac=function(n){return new(n||t)};static \u0275cmp=l({type:t,selectors:[["pokemon-list-skeleton"]],decls:3,vars:0,consts:[[1,"grid","gap-3","grid-cols-1","sm:grid-cols-3","md:grid-cols-5"],[1,"bg-white","h-44","bg-opacity-25","rounded-lg","shadow-md","flex","flex-col","items-center","p-4","justify-center","cursor-pointer"],[1,"rounded-full","animate-pulse","bg-gray-300","w-24","h-24"],[1,"flex","text-center","mt-5"],[1,"h-4","w-20","bg-gray-300","rounded","animate-pulse"]],template:function(n,o){n&1&&(i(0,"div",0),v(1,ee,4,0,"div",1,$),r()),n&2&&(s(),y("123456789012345".split("")))},encapsulation:2})};function j(t,e){let n=!e?.manualCleanup;n&&!e?.injector&&N(j);let o=n?e?.injector?.get(L)??u(L):null,M=te(e?.equal),d;e?.requireSync?d=f({kind:0},{equal:M}):d=f({kind:1,value:e?.initialValue},{equal:M});let R,T=t.subscribe({next:p=>d.set({kind:1,value:p}),error:p=>{if(e?.rejectErrors)throw p;d.set({kind:2,error:p})},complete:()=>{R?.()}});if(e?.requireSync&&d().kind===0)throw new w(601,!1);return R=o?.onDestroy(T.unsubscribe.bind(T)),h(()=>{let p=d();switch(p.kind){case 1:return p.value;case 2:throw p.error;case 0:throw new w(601,!1)}},{equal:e?.equal})}function te(t=Object.is){return(e,n)=>e.kind===1&&n.kind===1&&t(e.value,n.value)}var K=t=>["/pokemons/page",t];function ne(t,e){if(t&1&&a(0,"pokemon-list",3),t&2){let n=W();m("pokemonList",n.pokemons())}}function oe(t,e){t&1&&a(0,"pokemon-list-skeleton")}var I=class t{pokemonService=u(J);route=u(G);router=u(H);title=u(V);pokemons=f([]);isLoading=f(!1);currentPage=j(this.checkParams());loadOnPageChanged=D(()=>{this.loadPokemonList(this.currentPage())});checkParams(){return this.route.params.pipe(b(e=>e.page??"1"),b(e=>isNaN(+e)?1:+e),b(e=>Math.max(1,e)))}loadPokemonList(e=0){return O(this,null,function*(){this.pokemonService.loadPage(e).pipe(F(()=>this.title.setTitle(`Pokemons - Page ${e}`))).subscribe(n=>{this.pokemons.set(n)})})}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=l({type:t,selectors:[["pokemons"]],decls:12,vars:9,consts:[[1,"text-3xl"],[1,"text-xl"],[1,"my-2"],[3,"pokemonList"],[1,"flex","justify-between"],[1,"mt-2",3,"disabled","routerLink"],[1,"mt-2",3,"routerLink"]],template:function(n,o){n&1&&(i(0,"h1",0),c(1,"Listado de Pok\xE9mons"),r(),i(2,"h2",1),c(3),r(),a(4,"hr",2),U(5,ne,1,1,"pokemon-list",3)(6,oe,1,0,"pokemon-list-skeleton"),i(7,"div",4)(8,"button",5),c(9,"Anteriores"),r(),i(10,"button",6),c(11,"Siguientes"),r()()),n&2&&(s(3),B("P\xE1gina actual: ",o.currentPage(),""),s(2),A(o.pokemons().length!==0?5:6),s(3),m("disabled",o.currentPage()===1)("routerLink",k(5,K,o.currentPage()-1)),s(2),m("routerLink",k(7,K,o.currentPage()+1)))},dependencies:[x,S,P],encapsulation:2})};export{I as default};
