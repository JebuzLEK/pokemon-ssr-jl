import './polyfills.server.mjs';
import{a as J}from"./chunk-5PF7YHYJ.mjs";import{a as V,d as G,e as H}from"./chunk-BF7RFS5Q.mjs";import{$ as f,Aa as u,Ba as F,Ca as U,Da as v,Ea as y,F as S,Fa as i,Fb as B,G as w,Ga as r,Ha as s,Ia as D,Ja as A,M as p,Na as m,Oa as $,Pa as W,R as O,Ta as z,W as _,Z as b,fb as h,ia as q,ka as a,m as g,qa as l,sa as N}from"./chunk-GWUOYYUE.mjs";import{g as R}from"./chunk-X2SEQXRR.mjs";var K=n=>["/pokemons",n],P=class n{pokemonApiUrl="https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/other/official-artwork/";pokemon=b.required();pokemonImage=h(()=>`${this.pokemonApiUrl}${this.pokemon().id}.png`);static \u0275fac=function(t){return new(t||n)};static \u0275cmp=l({type:n,selectors:[["pokemon-card"]],inputs:{pokemon:[1,"pokemon"]},decls:5,vars:6,consts:[[1,"bg-blue-500","animate-fadeIn","h-44","bg-opacity-25","rounded-lg","shadow-md","flex","flex-col","p-4","items-center","justify-center","cursor-pointer",3,"routerLink"],["width","96px","height","96px",1,"w-24","h-24",3,"src","alt"],[1,"text-center","mt-2"],[1,"text-white","text-xl","capitalize","font-bold"]],template:function(t,o){t&1&&(i(0,"div",0),s(1,"img",1),i(2,"div",2)(3,"h2",3),m(4),r()()()),t&2&&(u("routerLink",z(4,K,o.pokemon().id)),a(),u("src",o.pokemonImage(),q)("alt",o.pokemon().name),a(3),$(o.pokemon().name))},dependencies:[H],encapsulation:2})};var Q=(n,e)=>e.id;function X(n,e){if(n&1&&s(0,"pokemon-card",1),n&2){let t=e.$implicit;u("pokemon",t)}}function Y(n,e){n&1&&(i(0,"div",2),m(1," No hay pok\xE9mons "),r())}var C=class n{pokemonList=b.required();static \u0275fac=function(t){return new(t||n)};static \u0275cmp=l({type:n,selectors:[["pokemon-list"]],inputs:{pokemonList:[1,"pokemonList"]},decls:4,vars:1,consts:[[1,"grid","gap-3","grid-cols-1","sm:grid-cols-3","md:grid-cols-5"],[3,"pokemon"],[1,"col-span-5","text-center","border-white","h-28","flex","justify-center","items-center"]],template:function(t,o){t&1&&(i(0,"div",0),v(1,X,1,1,"pokemon-card",1,Q,!1,Y,2,0,"div",2),r()),t&2&&(a(),y(o.pokemonList()))},dependencies:[P],encapsulation:2})};function Z(n,e){n&1&&(i(0,"div",1),s(1,"div",2),i(2,"div",3),s(3,"div",4),r()())}var x=class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=l({type:n,selectors:[["pokemon-list-skeleton"]],decls:3,vars:0,consts:[[1,"grid","gap-3","grid-cols-1","sm:grid-cols-3","md:grid-cols-5"],[1,"bg-white","h-44","bg-opacity-25","rounded-lg","shadow-md","flex","flex-col","items-center","p-4","justify-center","cursor-pointer"],[1,"rounded-full","animate-pulse","bg-gray-300","w-24","h-24"],[1,"flex","text-center","mt-5"],[1,"h-4","w-20","bg-gray-300","rounded","animate-pulse"]],template:function(t,o){t&1&&(i(0,"div",0),v(1,Z,4,0,"div",1,U),r()),t&2&&(a(),y("123456789012345".split("")))},encapsulation:2})};function T(n,e){let t=!e?.manualCleanup;t&&!e?.injector&&O(T);let o=t?e?.injector?.get(_)??p(_):null,k=ee(e?.equal),d;e?.requireSync?d=f({kind:0},{equal:k}):d=f({kind:1,value:e?.initialValue},{equal:k});let I,M=n.subscribe({next:c=>d.set({kind:1,value:c}),error:c=>{if(e?.rejectErrors)throw c;d.set({kind:2,error:c})},complete:()=>{I?.()}});if(e?.requireSync&&d().kind===0)throw new w(601,!1);return I=o?.onDestroy(M.unsubscribe.bind(M)),h(()=>{let c=d();switch(c.kind){case 1:return c.value;case 2:throw c.error;case 0:throw new w(601,!1)}},{equal:e?.equal})}function ee(n=Object.is){return(e,t)=>e.kind===1&&t.kind===1&&n(e.value,t.value)}function te(n,e){if(n&1&&s(0,"pokemon-list",3),n&2){let t=A();u("pokemonList",t.pokemons())}}function ne(n,e){n&1&&s(0,"pokemon-list-skeleton")}var j=class n{pokemonService=p(J);route=p(V);router=p(G);title=p(B);pokemons=f([]);isLoading=f(!1);currentPage=T(this.checkParams());ngOnInit(){this.loadPokemonList()}checkParams(){return this.route.queryParamMap.pipe(g(e=>e.get("page")??"1"),g(e=>isNaN(+e)?1:+e),g(e=>Math.max(1,e)))}loadPokemonList(e=0){return R(this,null,function*(){let t=this.currentPage()+e;this.pokemonService.loadPage(t).pipe(S(()=>this.router.navigate([],{queryParams:{page:t}})),S(()=>this.title.setTitle(`Pokemons - Page ${t}`))).subscribe(o=>{this.pokemons.set(o)})})}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=l({type:n,selectors:[["pokemons"]],decls:12,vars:2,consts:[[1,"text-3xl"],[1,"text-xl"],[1,"my-2"],[3,"pokemonList"],[1,"flex","justify-between"],[1,"mt-2",3,"click"]],template:function(t,o){t&1&&(i(0,"h1",0),m(1,"Listado de Pok\xE9mons"),r(),i(2,"h2",1),m(3),r(),s(4,"hr",2),N(5,te,1,1,"pokemon-list",3)(6,ne,1,0,"pokemon-list-skeleton"),i(7,"div",4)(8,"button",5),D("click",function(){return o.loadPokemonList(-1)}),m(9,"Anteriores"),r(),i(10,"button",5),D("click",function(){return o.loadPokemonList(1)}),m(11,"Siguientes"),r()()),t&2&&(a(3),W("P\xE1gina actual: ",o.currentPage(),""),a(2),F(o.pokemons().length!==0?5:6))},dependencies:[C,x],encapsulation:2})};export{j as default};
